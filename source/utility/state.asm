; ******************************************************************************
; ******************************************************************************
;
;		Name : 		state.asm
;		Purpose : 	Save and Restore BASIC state.
;		Author : 	Paul Robson (paul@robsons.org.uk)
;		Created : 	14th October 2019
;
; ******************************************************************************
; ******************************************************************************

; ******************************************************************************
;
;								Save State
;
; ******************************************************************************

StateSave:
		ldx 	#$7F 						; copy zero page, blanking $00-$7F
_SSCopy:lda 	$00,x
		sta 	zeroPageStore,x
		stz 	$00,x		
		dex
		bpl 	_SSCopy
		rts

; ******************************************************************************
;
;							  Restore State
;
; ******************************************************************************

StateRestore:
		ldx 	#$7F 						; copy zero page, blanking $00-$7F
_SRCopy:lda 	zeroPageStore,x
		sta 	$00,x
		dex
		bpl 	_SRCopy
		rts			

